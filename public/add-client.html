<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRM - Добавить клиента</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Crect width='16' height='16' rx='3' fill='%234C6EF5'/%3E%3Cpath d='M4 9.5c0-1.933 1.567-3.5 3.5-3.5S11 7.567 11 9.5a3.5 3.5 0 1 1-7 0Zm3.5-5A2.5 2.5 0 1 0 5 2a2.5 2.5 0 0 0 2.5 2.5Z' fill='white'/%3E%3C/svg%3E">
    <script type="importmap">
        {
            "imports": {
                "vue": "https://cdn.jsdelivr.net/npm/vue@3/dist/vue.esm-browser.prod.js"
            }
        }
    </script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/base.css">
    <link rel="stylesheet" href="assets/css/add-client.css">
</head>
<body class="form-screen">
    <div class="page-header container py-4">
        <div class="d-flex justify-content-between align-items-start flex-wrap gap-3">
            <div>
                <p class="eyebrow mb-1">Карточка клиента</p>
                <h2 class="mb-1">Создание клиента</h2>
                <p class="text-muted mb-0">Минимум полей, максимум пользы — заполняйте только то, что действительно важно.</p>
            </div>
            <button type="button" class="btn btn-light" onclick="window.location.href='index.html'">
                <i class="ri-arrow-go-back-line me-2"></i>Вернуться на главную
            </button>
        </div>
    </div>

    <div class="container pb-5">
        <div class="crm-form-card shadow-lg mx-auto">
            <div class="card-header border-0 d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center gap-3">
                    <div class="icon-pill"><i class="ri-user-add-line"></i></div>
                    <div>
                        <p class="eyebrow mb-1">Шаги создания</p>
                        <h5 class="mb-0">Заполните данные клиента</h5>
                    </div>
                </div>
                <span class="badge bg-primary-subtle text-primary">CRM стиль</span>
            </div>

            <div class="step-indicator">
                <div class="step active" data-step="1">1. Личные данные</div>
                <div class="step" data-step="2">2. Оплата и этап</div>
            </div>

            <form id="clientForm" class="card-body" novalidate>
                <!-- Шаг 1 -->
                <div class="form-step active" id="step1">
                    <div class="section-block">
                        <div class="section-header">
                            <div>
                                <p class="eyebrow mb-1">Основная информация</p>
                                <h6 class="mb-0">ФИО клиента</h6>
                            </div>
                            <span class="badge bg-light text-primary border">Обязательные поля</span>
                        </div>
                        <div class="row g-3">
                            <div class="col-md-4">
                                <label for="lastName" class="form-label required">Фамилия</label>
                                <input type="text" class="form-control" id="lastName" autocomplete="family-name" required>
                            </div>
                            <div class="col-md-4">
                                <label for="firstName" class="form-label required">Имя</label>
                                <input type="text" class="form-control" id="firstName" autocomplete="given-name" required>
                            </div>
                            <div class="col-md-4">
                                <label for="middleName" class="form-label required">Отчество</label>
                                <input type="text" class="form-control" id="middleName" autocomplete="additional-name" required>
                            </div>
                        </div>
                    </div>
                    <div class="section-block">
                        <div class="section-header">
                            <div>
                                <p class="eyebrow mb-1">Контакты</p>
                                <h6 class="mb-0">Как связаться</h6>
                            </div>
                            <span class="text-muted small">Телефон не обязателен</span>
                        </div>
                        <label for="phone" class="form-label">Номер телефона</label>
                        <div class="input-with-icon">
                            <i class="ri-smartphone-line"></i>
                            <input type="tel" class="form-control" id="phone" placeholder="Введите телефон (10-12 цифр)" autocomplete="tel">
                        </div>
                    </div>
                    <div class="d-flex justify-content-end">
                        <button class="btn btn-primary" type="button" id="toStep2">Перейти к оплате</button>
                    </div>
                </div>

                <!-- Шаг 2 -->
                <div class="form-step" id="step2">
                    <div class="section-block">
                        <div class="section-header">
                            <div>
                                <p class="eyebrow mb-1">Финансы</p>
                                <h6 class="mb-0">Условия оплаты</h6>
                            </div>
                            <span class="badge bg-light text-primary border">Обязательные поля</span>
                        </div>
                        <div class="row g-3">
                            <div class="col-md-4">
                                <label for="totalAmount" class="form-label required">Общая сумма</label>
                                <input type="number" class="form-control" id="totalAmount" min="0" required>
                            </div>
                            <div class="col-md-4">
                                <label for="paymentMonths" class="form-label">Кол-во месяцев</label>
                                <input type="number" class="form-control" id="paymentMonths" min="0" placeholder="Например, 6">
                            </div>
                            <div class="col-md-4">
                                <label for="paymentStartDate" class="form-label required">Дата первого платежа</label>
                                <input type="date" class="form-control" id="paymentStartDate" required>
                            </div>
                        </div>
                    </div>

                    <div class="section-block">
                        <div class="section-header">
                            <div>
                                <p class="eyebrow mb-1">Процесс</p>
                                <h6 class="mb-0">Этап и задачи</h6>
                            </div>
                            <span class="text-muted small">Опционально</span>
                        </div>
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="stage" class="form-label">Этап</label>
                                <select class="form-select" id="stage">
                                    <option value="" disabled selected>Выберите этап</option>
                                    <option value="Договор">Договор</option>
                                    <option value="Подача в суд">Подача в суд</option>
                                    <option value="Решение суда о банкротстве">Решение суда о банкротстве</option>
                                    <option value="Завершение">Завершение</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="subStage" class="form-label">Задача</label>
                                <select class="form-select" id="subStage">
                                    <option value="">Выберите задачу</option>
                                </select>
                            </div>
                        </div>
                        <div class="mt-3">
                            <label class="form-label d-block">Суд</label>
                            <div class="d-flex flex-wrap gap-3">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="courtArbitrage">
                                    <label class="form-check-label" for="courtArbitrage">Арбитражный суд</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="courtTret">
                                    <label class="form-check-label" for="courtTret">Третейский суд</label>
                                </div>
                            </div>
                        </div>
                        <div class="row g-3 mt-1">
                            <div class="col-md-6">
                                <label for="arbitrLink" class="form-label">Ссылка на суд</label>
                                <div class="input-with-icon">
                                    <i class="ri-link-m" aria-hidden="true"></i>
                                    <input type="url" class="form-control" id="arbitrLink" placeholder="https://example.com">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label for="courtDate" class="form-label">Дата суда</label>
                                <input type="date" class="form-control" id="courtDate">
                            </div>
                        </div>
                    </div>

                    <div class="d-flex justify-content-between align-items-center">
                        <button class="btn btn-outline-secondary" type="button" id="backToStep1">Назад</button>
                        <div class="d-flex align-items-center gap-3">
                            <button class="btn btn-ghost" type="button" onclick="window.location.href='index.html'">Отменить</button>
                            <button class="btn btn-primary" type="button" onclick="saveClient()">Сохранить</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/common.js"></script>
    <script src="assets/js/add-client.js"></script>
</body>
</html>

